<div class="flex justify-center sticky top-5 mt-5 z-20" *ngIf="navbar === 0">
  <div
    class="navbar h-[80px] bg-[#ffffff] rounded-full w-[95vw] flex justify-between px-10"
  >
    <div>
      <a
        routerLink="/"
        class="text-xl text-black hover:text-yellow-400 duration-300 ease-in-out font-bold p-5 flex justify-center items-center bg-opacity-95"
        >eGuide</a
      >
    </div>
    <div id="userMenu" class="laptop:flex-row flex flex-col">
      <a
        routerLink=""
        class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 hover:border-b"
        >Home</a
      >
      <a
        routerLink="/services"
        class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 hover:border-b"
        >Services</a
      >
      <ng-container *ngIf="isLoggedIn; else loginRegister">
        <button class="relative group" (click)="showUserMenu = !showUserMenu">
          <div class="flex items-center">
            <a
              class="text-lg text-black font-bold p-5 cursor-pointer hover:border-b"
            >
              {{ user.name }}
            </a>
            <!-- currentState'ın brand özelliği varsa yanında göster -->
            <ng-container
              *ngIf="currentState?.brand; else savedActiveVehicleBrand"
              class="ml-4"
            >
              {{ currentState?.brand }} {{ currentState?.model }}
            </ng-container>

            <ng-template #savedActiveVehicleBrand>
              {{ savedActiveVehicle?.brand }} {{ savedActiveVehicle?.model }}
            </ng-template>
          </div>

          <div
            *ngIf="showUserMenu"
            class="absolute left-0 mt-2 bg-white border shadow-lg rounded-xl z-50"
          >
            <button
              (click)="logout()"
              class="block px-4 py-2 text-black hover:bg-gray-100 rounded-xl"
            >
              Logout
            </button>
            <a
              routerLink="/settings"
              class="block px-4 py-2 text-black hover:bg-gray-100 rounded-xl"
              >Settings</a
            >
          </div>
        </button>
      </ng-container>
    </div>
    <button
      id="hamburgerIcon"
      class="hidden relative group"
      (click)="toggleHamburgerMenu()"
      role="button"
      tabindex="0"
    >
      <i class="fas fa-bars"></i>
      <button
        *ngIf="hamburgerMenu"
        class="absolute right-0 mt-2 bg-white border rounded shadow-lg rounded-xl z-auto"
        (click)="$event.stopPropagation()"
        role="button"
        tabindex="0"
      >
        <a
          routerLink="/"
          class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 hover:border-b"
          >Home</a
        >
        <a
          routerLink="/services"
          class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 hover:border-b"
          >Services</a
        >
        <ng-container *ngIf="isLoggedIn; else loginRegister">
          <button
            class="relative group"
            (click)="showUserMenu = !showUserMenu"
            role="button"
            tabindex="0"
          >
            <a
              class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 cursor-pointer hover:border-b"
              >{{ user.name }}</a
            >
            <div
              *ngIf="showUserMenu"
              class="absolute left-0 mt-2 bg-white border rounded shadow-lg rounded-xl z-50"
            >
              <button
                (click)="logout()"
                class="block px-4 py-2 text-black hover:bg-gray-100 rounded-xl"
              >
                Logout
              </button>
              <a
                routerLink="/settings"
                class="block px-4 py-2 text-black hover:bg-gray-100 rounded-xl"
                >Settings</a
              >
            </div>
          </button>
        </ng-container>
      </button>
    </button>
  </div>
</div>

<ng-template #loginRegister>
  <a
    routerLink="/login"
    class="text-lg text-black font-bold p-5 hover:border-b flex justify-center items-center bg-opacity-95"
    >Login</a
  >
  <a
    routerLink="/register"
    class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 hover:border-b"
    >Register</a
  >
</ng-template>
<style>
  @media (max-width: 1280px) {
    #userMenu {
      display: none;
    }
    #hamburgerIcon {
      display: block;
    }
  }
</style>

<div
  class="flex justify-center sticky top-0 z-20 w-screen"
  *ngIf="navbar === 1"
>
  <div
    class="navbar h-[80px] bg-[#ffffff] top-0 w-full flex justify-between px-10"
  >
    <div>
      <a
        routerLink="/"
        class="text-xl text-black hover:text-yellow-400 duration-300 ease-in-out font-bold p-5 flex justify-center items-center bg-opacity-95"
        >eGuide</a
      >
    </div>
    <div id="userMenu" class="laptop:flex-row flex flex-col">
      <a
        routerLink=""
        class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 hover:border-b"
        >Home</a
      >
      <a
        routerLink="/services"
        class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 hover:border-b"
        >Services</a
      >
      <ng-container *ngIf="isLoggedIn; else loginRegister">
        <button class="relative group" (click)="showUserMenu = !showUserMenu">
          <a
            class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 cursor-pointer hover:border-b"
            >{{ user.name }}</a
          >
          <div
            *ngIf="showUserMenu"
            class="absolute left-0 mt-2 bg-white border rounded shadow-lg rounded-xl z-50"
          >
            <button
              (click)="logout()"
              class="block px-4 py-2 text-black hover:bg-gray-100 rounded-xl"
            >
              Logout
            </button>
            <a
              routerLink="/settings"
              class="block px-4 py-2 text-black hover:bg-gray-100 rounded-xl"
              >Settings</a
            >
          </div>
        </button>
      </ng-container>
    </div>
    <button
      id="hamburgerIcon"
      class="hidden relative group"
      (click)="toggleHamburgerMenu()"
    >
      <i class="fas fa-bars"></i>
      <button
        *ngIf="hamburgerMenu"
        class="absolute right-0 mt-2 bg-white border rounded shadow-lg rounded-xl z-auto"
        (click)="$event.stopPropagation()"
      >
        <a
          routerLink="/"
          class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 hover:border-b"
          >Home</a
        >
        <a
          routerLink="/services"
          class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 hover:border-b"
          >Services</a
        >
        <ng-container *ngIf="isLoggedIn; else loginRegister">
          <button class="relative group" (click)="showUserMenu = !showUserMenu">
            <a
              class="text-lg text-black font-bold p-5 flex justify-center items-center bg-opacity-95 cursor-pointer hover:border-b"
              >{{ user.name }}</a
            >
            <div
              *ngIf="showUserMenu"
              class="absolute left-0 mt-2 bg-white border rounded shadow-lg rounded-xl z-50"
            >
              <button
                (click)="logout()"
                class="block px-4 py-2 text-black hover:bg-gray-100 rounded-xl"
              >
                Logout
              </button>
              <a
                routerLink="/settings"
                class="block px-4 py-2 text-black hover:bg-gray-100 rounded-xl"
                >Settings</a
              >
            </div>
          </button>
        </ng-container>
      </button>
    </button>
  </div>
</div>
